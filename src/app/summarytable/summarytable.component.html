<div class="reportContainer" *ngIf="data !== null">
  <div class="tableHeader">
    <button mat-icon-button aria-label="close" style="float:right; margin-right: 5px" (click)="closeTable()">
      <mat-icon>close</mat-icon>
    </button>
    <button mat-icon-button aria-label="close" style="float:right;" (click)="toggleTable()">
      <mat-icon *ngIf="!tableBodyVisible">keyboard_arrow_down</mat-icon>
      <mat-icon *ngIf="tableBodyVisible">keyboard_arrow_up</mat-icon>
    </button>
  </div>
  <div [hidden]="!tableBodyVisible">
    <mat-tab-group [selectedIndex]="0">
      <mat-tab label="Summary">
        <table mat-table [dataSource]="summaryData" class="mat-elevation-z8 popupTable" *ngIf="summaryData.length > 0">
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Ecosystem Service </th>
            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
          </ng-container>
          <ng-container matColumnDef="avg">
            <th mat-header-cell *matHeaderCellDef> Average Value <br>($/acre/year) </th>
            <td mat-cell *matCellDef="let element"> {{element.avg}} </td>
          </ng-container>
          <ng-container matColumnDef="totalvalue">
            <th mat-header-cell *matHeaderCellDef> Total Value <br>($/year)</th>
            <td mat-cell *matCellDef="let element"> {{element.totalvalue}} </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="summaryColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: summaryColumns;"></tr>
        </table>
      </mat-tab>
      <mat-tab label="Air Quality">
        <app-detailtable [data]="individual[0]"></app-detailtable>
      </mat-tab>
      <mat-tab label="Bio-diversity">
        <app-detailtable [data]="individual[1]"></app-detailtable>
      </mat-tab>
      <mat-tab label="Carbon">
        <app-detailtable [data]="individual[2]"></app-detailtable>
      </mat-tab>
      <mat-tab label="Cultural">
        <app-detailtable [data]="individual[3]"></app-detailtable>
      </mat-tab>
      <mat-tab label="Water">
        <app-detailtable [data]="individual[4]"></app-detailtable>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
